<ng-container *ngIf="data$ | async as data">
  <app-progress-bar [value]="data.totalIncome" [maxValue]="data.totalExpenses"></app-progress-bar>

  <div class="flex justify-between items-center p-4" *ngIf="session$ | async as session">
    <div class="flex items-center">
      <span class="mr-2">$</span>
      <span>{{ session.cash }}</span>
      <span class="mx-2">ðŸ‘¶</span>
      <span>{{ session.children }}</span>
    </div>
    <div class="flex items-center">
      <button class="bg-gray-500 text-white uppercase px-4 py-2 rounded mr-2" i18n="@@history">History</button>
      <button class="bg-blue-600 text-white uppercase px-4 py-2 rounded" routerLink="action" i18n="@@action">Action</button>
    </div>
  </div>

  <div class="bg-blue-800 p-2 mt-4 font-bold text-white" i18n="@@summary">Summary</div>

  <div class="flex justify-between items-center my-4 mx-2">
      <span i18n="@@passiveIncome2">Passive income</span>
      <span class="w-1/2">$ {{data.totalIncome}}</span>
  </div>

  <div class="flex justify-between items-center my-4 mx-2">
      <span i18n="@@monthlyCashFlow2">Monthly cash flow</span>
      <span class="w-1/2">$ {{data.cashflow}}</span>
  </div>

  <div class="bg-blue-800 p-2 font-bold text-white" i18n="@@income">Income</div>

  <div class="flex justify-between items-center my-4 mx-2">
    <span i18n="@@salary">Salary</span>
    <span class="w-1/2">$ {{data.profession.income.salary}}</span>
  </div>

  <div class="flex justify-between items-center my-4 mx-2" *ngFor="let income of data.incomeLiabilities">
    <span i18n="@@salary">Salary</span>
    <span class="w-1/2">$ {{income.cashflow}}</span>
  </div>

  <div class="bg-blue-800 p-2 mt-4 font-bold text-white" i18n="@@expenses">Expenses</div>
  <div class="flex justify-between items-center my-4 mx-2" *ngIf="data.session.children">
    <span i18n="@@childSupport">Child support</span>
    <span class="w-1/2">$ {{data.profession.expenses.childSupport * data.session.children}}</span>
  </div>

  <div class="flex justify-between items-center my-4 mx-2" *ngFor="let expense of data.session.expenses">
    <span>{{expense.name}}</span>
    <span class="w-1/2">$ {{expense.cashflow}}</span>
  </div>

  <div class="bg-blue-800 p-2 mt-4 font-bold text-white" i18n="@@assets">Assets</div>

  <div class="bg-blue-800 p-2 mt-4 font-bold text-white" i18n="@@liabilities">Liabilities</div>

  <div class="flex justify-between items-center my-4 mx-2" *ngFor="let liability of data.expenseLiabilities">
    <span>{{liability.name}}</span>
    <span class="w-1/2">$ {{liability.value}}</span>
  </div>

  <div class="flex justify-between items-center my-4 mx-2" *ngFor="let liability of data.incomeLiabilities">
    <span>{{liability.name}}</span>
    <span class="w-1/2">$ {{liability.value}}</span>
  </div>

</ng-container>